(self.webpackChunkgosh_esp=self.webpackChunkgosh_esp||[]).push([[8803],{95526:function(x){x.exports={main:"main___2kx2N",password:"password___2JDrd",getCaptcha:"getCaptcha___1oboe",submit:"submit___34wM2",login:"login___1qBuj",success:"success___3hl98",warning:"warning___2i2r2",error:"error___3JfQo","progress-pass":"progress-pass___BM1Xu",progress:"progress___2s68u"}},90434:function(x,h,e){"use strict";e.r(h),e.d(h,{default:function(){return K}});var c=e(13062),R=e(71230),v=e(57663),M=e(71577),te=e(89032),Q=e(15746),I=e(20136),_=e(55241),Y=e(34669),ae=e(32074),ue=e(34792),N=e(48086),y=e(2824),z=e(47673),d=e(4107),ne=e(43358),$=e(90290),b=e(9715),V=e(86585),Z=e(67294),O=e(58086),B=e(19611),k=e(3182),q=e(94043),ee=e.n(q);function s(E){return t.apply(this,arguments)}function t(){return t=(0,k.Z)(ee().mark(function E(j){return ee().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,O.WY)("/api/register",{method:"POST",data:j}));case 1:case"end":return f.stop()}},E)})),t.apply(this,arguments)}var o=e(95526),a=e.n(o),r=e(85893),i=V.Z.Item,u=$.Z.Option,m=d.Z.Group,g={ok:(0,r.jsx)("div",{className:a().success,children:(0,r.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u5F3A"})}),pass:(0,r.jsx)("div",{className:a().warning,children:(0,r.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u4E2D"})}),poor:(0,r.jsx)("div",{className:a().error,children:(0,r.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u592A\u77ED"})})},l={ok:"success",pass:"normal",poor:"exception"},P=function(){var j=(0,Z.useState)(0),A=(0,y.Z)(j,2),f=A[0],G=A[1],H=(0,Z.useState)(!1),D=(0,y.Z)(H,2),L=D[0],U=D[1],X=(0,Z.useState)("86"),W=(0,y.Z)(X,2),w=W[0],re=W[1],se=(0,Z.useState)(!1),T=(0,y.Z)(se,2),le=T[0],ce=T[1],ve=!1,J,de=V.Z.useForm(),fe=(0,y.Z)(de,1),F=fe[0];(0,Z.useEffect)(function(){return function(){clearInterval(J)}},[J]);var pe=function(){var n=59;G(n),J=window.setInterval(function(){n-=1,G(n),n===0&&clearInterval(J)},1e3)},oe=function(){var n=F.getFieldValue("password");return n&&n.length>9?"ok":n&&n.length>5?"pass":"poor"},ie=(0,O.QT)(s,{manual:!0,onSuccess:function(n,p){n.status==="ok"&&(N.default.success("\u6CE8\u518C\u6210\u529F\uFF01"),O.m8.push({pathname:"/user/register-result",state:{account:p.email}}))}}),he=ie.loading,me=ie.run,ge=function(n){me(n)},Ee=function(n,p){var S=Promise;return p&&p!==F.getFieldValue("password")?S.reject("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u5339\u914D!"):S.resolve()},ye=function(n,p){var S=Promise;return p?(L||U(!!p),ce(!le),p.length<6?S.reject(""):(p&&ve&&F.validateFields(["confirm"]),S.resolve())):(U(!!p),S.reject("\u8BF7\u8F93\u5165\u5BC6\u7801!"))},Pe=function(n){re(n)},Ce=function(){var n=F.getFieldValue("password"),p=oe();return n&&n.length?(0,r.jsx)("div",{className:a()["progress-".concat(p)],children:(0,r.jsx)(ae.Z,{status:l[p],className:a().progress,strokeWidth:6,percent:n.length*10>100?100:n.length*10,showInfo:!1})}):null};return(0,r.jsxs)("div",{className:a().main,children:[(0,r.jsx)("h3",{children:"\u6CE8\u518C"}),(0,r.jsxs)(V.Z,{form:F,name:"UserRegister",onFinish:ge,children:[(0,r.jsx)(i,{name:"mail",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740!"},{type:"email",message:"\u90AE\u7BB1\u5730\u5740\u683C\u5F0F\u9519\u8BEF!"}],children:(0,r.jsx)(d.Z,{size:"large",placeholder:"\u90AE\u7BB1"})}),(0,r.jsx)(_.Z,{getPopupContainer:function(n){return n&&n.parentNode?n.parentNode:n},content:L&&(0,r.jsxs)("div",{style:{padding:"4px 0"},children:[g[oe()],Ce(),(0,r.jsx)("div",{style:{marginTop:10},children:(0,r.jsx)("span",{children:"\u8BF7\u81F3\u5C11\u8F93\u5165 6 \u4E2A\u5B57\u7B26\u3002\u8BF7\u4E0D\u8981\u4F7F\u7528\u5BB9\u6613\u88AB\u731C\u5230\u7684\u5BC6\u7801\u3002"})})]}),overlayStyle:{width:240},placement:"right",visible:L,children:(0,r.jsx)(i,{name:"password",className:F.getFieldValue("password")&&F.getFieldValue("password").length>0&&a().password,rules:[{validator:ye}],children:(0,r.jsx)(d.Z,{size:"large",type:"password",placeholder:"\u81F3\u5C116\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199"})})}),(0,r.jsx)(i,{name:"confirm",rules:[{required:!0,message:"\u786E\u8BA4\u5BC6\u7801"},{validator:Ee}],children:(0,r.jsx)(d.Z,{size:"large",type:"password",placeholder:"\u786E\u8BA4\u5BC6\u7801"})}),(0,r.jsxs)(m,{compact:!0,children:[(0,r.jsxs)($.Z,{size:"large",value:w,onChange:Pe,style:{width:"20%"},children:[(0,r.jsx)(u,{value:"86",children:"+86"}),(0,r.jsx)(u,{value:"87",children:"+87"})]}),(0,r.jsx)(i,{style:{width:"80%"},name:"mobile",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7!"},{pattern:/^\d{11}$/,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF!"}],children:(0,r.jsx)(d.Z,{size:"large",placeholder:"\u624B\u673A\u53F7"})})]}),(0,r.jsxs)(R.Z,{gutter:8,children:[(0,r.jsx)(Q.Z,{span:16,children:(0,r.jsx)(i,{name:"captcha",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801!"}],children:(0,r.jsx)(d.Z,{size:"large",placeholder:"\u9A8C\u8BC1\u7801"})})}),(0,r.jsx)(Q.Z,{span:8,children:(0,r.jsx)(M.Z,{size:"large",disabled:!!f,className:a().getCaptcha,onClick:pe,children:f?"".concat(f," s"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"})})]}),(0,r.jsxs)(i,{children:[(0,r.jsx)(M.Z,{size:"large",loading:he,className:a().submit,type:"primary",htmlType:"submit",children:(0,r.jsx)("span",{children:"\u6CE8\u518C"})}),(0,r.jsx)(B.rU,{className:a().login,to:"/user/login",children:(0,r.jsx)("span",{children:"\u4F7F\u7528\u5DF2\u6709\u8D26\u6237\u767B\u5F55"})})]})]})]})},K=P},15746:function(x,h,e){"use strict";var c=e(21584);h.Z=c.Z},89032:function(x,h,e){"use strict";var c=e(43673),R=e.n(c),v=e(6999)},71230:function(x,h,e){"use strict";var c=e(92820);h.Z=c.Z},13062:function(x,h,e){"use strict";var c=e(43673),R=e.n(c),v=e(6999)},19611:function(x,h,e){"use strict";e.d(h,{rU:function(){return b},OL:function(){return q}});var c=e(19630),R=e(41788),v=e(67294),M=e(97175),te=e(45697),Q=e.n(te),I=e(22122),_=e(19756),Y=e(2177),ae=function(s){(0,R.Z)(t,s);function t(){for(var a,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return a=s.call.apply(s,[this].concat(i))||this,a.history=(0,M.lX)(a.props),a}var o=t.prototype;return o.render=function(){return v.createElement(c.F0,{history:this.history,children:this.props.children})},t}(v.Component),ue=function(s){(0,R.Z)(t,s);function t(){for(var a,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return a=s.call.apply(s,[this].concat(i))||this,a.history=(0,M.q_)(a.props),a}var o=t.prototype;return o.render=function(){return v.createElement(c.F0,{history:this.history,children:this.props.children})},t}(v.Component),N=function(t,o){return typeof t=="function"?t(o):t},y=function(t,o){return typeof t=="string"?(0,M.ob)(t,null,null,o):t},z=function(t){return t},d=v.forwardRef;typeof d=="undefined"&&(d=z);function ne(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}var $=d(function(s,t){var o=s.innerRef,a=s.navigate,r=s.onClick,i=(0,_.Z)(s,["innerRef","navigate","onClick"]),u=i.target,m=(0,I.Z)({},i,{onClick:function(l){try{r&&r(l)}catch(P){throw l.preventDefault(),P}!l.defaultPrevented&&l.button===0&&(!u||u==="_self")&&!ne(l)&&(l.preventDefault(),a())}});return z!==d?m.ref=t||o:m.ref=o,v.createElement("a",m)}),b=d(function(s,t){var o=s.component,a=o===void 0?$:o,r=s.replace,i=s.to,u=s.innerRef,m=(0,_.Z)(s,["component","replace","to","innerRef"]);return v.createElement(c.s6.Consumer,null,function(g){g||(0,Y.Z)(!1);var l=g.history,P=y(N(i,g.location),g.location),K=P?l.createHref(P):"",E=(0,I.Z)({},m,{href:K,navigate:function(){var A=N(i,g.location),f=r?l.replace:l.push;f(A)}});return z!==d?E.ref=t||u:E.innerRef=u,v.createElement(a,E)})});if(!1)var V,Z;var O=function(t){return t},B=v.forwardRef;typeof B=="undefined"&&(B=O);function k(){for(var s=arguments.length,t=new Array(s),o=0;o<s;o++)t[o]=arguments[o];return t.filter(function(a){return a}).join(" ")}var q=B(function(s,t){var o=s["aria-current"],a=o===void 0?"page":o,r=s.activeClassName,i=r===void 0?"active":r,u=s.activeStyle,m=s.className,g=s.exact,l=s.isActive,P=s.location,K=s.sensitive,E=s.strict,j=s.style,A=s.to,f=s.innerRef,G=(0,_.Z)(s,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return v.createElement(c.s6.Consumer,null,function(H){H||(0,Y.Z)(!1);var D=P||H.location,L=y(N(A,D),D),U=L.pathname,X=U&&U.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),W=X?(0,c.LX)(D.pathname,{path:X,exact:g,sensitive:K,strict:E}):null,w=!!(l?l(W,D):W),re=w?k(m,i):m,se=w?(0,I.Z)({},j,{},u):j,T=(0,I.Z)({"aria-current":w&&a||null,className:re,style:se,to:L},G);return O!==B?T.ref=t||f:T.innerRef=f,v.createElement(b,T)})});if(!1)var ee}}]);
